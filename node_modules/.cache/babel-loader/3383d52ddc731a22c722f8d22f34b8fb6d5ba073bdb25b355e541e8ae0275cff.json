{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Krishang Darji\\\\OneDrive\\\\Desktop\\\\Mudravani1\\\\src\\\\components\\\\VideoCallPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { IconButton, Fab, Box } from \"@mui/material\";\nimport { FaMicrophone, FaMicrophoneAltSlash, FaVideo, FaVideoSlash, FaPhoneAlt } from \"react-icons/fa\"; // Icons for controls\nimport styled from \"@emotion/styled\"; // Styled components for custom styles\n\n// Styled components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VideoContainer = styled(Box)({\n  display: \"flex\",\n  justifyContent: \"center\",\n  gap: \"20px\",\n  position: \"relative\"\n});\n_c = VideoContainer;\nconst LocalVideoWrapper = styled(Box)({\n  position: \"absolute\",\n  top: \"20px\",\n  left: \"20px\",\n  width: \"120px\",\n  height: \"80px\",\n  backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n  borderRadius: \"8px\",\n  overflow: \"hidden\"\n});\n_c2 = LocalVideoWrapper;\nconst Video = styled(\"video\")({\n  width: \"100%\",\n  height: \"100%\",\n  objectFit: \"cover\",\n  borderRadius: \"8px\"\n});\n_c3 = Video;\nconst ControlPanel = styled(Box)({\n  position: \"fixed\",\n  bottom: \"20px\",\n  left: \"50%\",\n  transform: \"translateX(-50%)\",\n  display: \"flex\",\n  alignItems: \"center\",\n  gap: \"25px\",\n  zIndex: \"10\"\n});\n_c4 = ControlPanel;\nconst EndCallButton = styled(Fab)({\n  backgroundColor: \"#f44336\",\n  color: \"#fff\",\n  padding: \"15px\",\n  fontSize: \"20px\",\n  \"&:hover\": {\n    backgroundColor: \"#d32f2f\"\n  }\n});\n_c5 = EndCallButton;\nconst VideoCallPage = ({\n  roomId\n}) => {\n  _s();\n  const [isMuted, setIsMuted] = useState(false);\n  const [isVideoOn, setIsVideoOn] = useState(true);\n  const localVideoRef = useRef(null);\n  const remoteVideoRef = useRef(null);\n  const peerConnection = useRef(null);\n  const mediaStream = useRef(null);\n  const socket = useRef(null); // WebSocket reference\n  const navigate = useNavigate();\n  useEffect(() => {\n    socket.current = new WebSocket(\"wss://your-signaling-server.com\"); // Replace with your WebSocket server URL\n\n    // Wait for WebSocket connection to open before proceeding\n    socket.current.onopen = () => {\n      console.log(\"WebSocket connection established\");\n      startVideoCall(roomId);\n    };\n    socket.current.onmessage = message => {\n      handleReceivedMessage(JSON.parse(message.data));\n    };\n    return () => {\n      socket.current.close();\n    };\n  }, [roomId]);\n  const startVideoCall = async roomId => {\n    try {\n      // Get media stream\n      mediaStream.current = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true\n      });\n\n      // Set local video stream\n      if (localVideoRef.current) {\n        localVideoRef.current.srcObject = mediaStream.current;\n      }\n\n      // Create PeerConnection\n      peerConnection.current = new RTCPeerConnection({\n        iceServers: [{\n          urls: \"stun:stun.l.google.com:19302\"\n        }]\n      });\n\n      // Add local media tracks to peer connection\n      mediaStream.current.getTracks().forEach(track => {\n        peerConnection.current.addTrack(track, mediaStream.current);\n      });\n\n      // Handle ICE candidate events\n      peerConnection.current.onicecandidate = event => {\n        if (event.candidate) {\n          // Ensure WebSocket is open before sending the candidate\n          if (socket.current.readyState === WebSocket.OPEN) {\n            socket.current.send(JSON.stringify({\n              type: \"candidate\",\n              candidate: event.candidate,\n              roomId\n            }));\n          } else {\n            console.log(\"WebSocket not open, cannot send candidate\");\n          }\n        }\n      };\n\n      // Set up the remote video stream when a track is received\n      peerConnection.current.ontrack = event => {\n        if (remoteVideoRef.current) {\n          remoteVideoRef.current.srcObject = event.streams[0];\n        }\n      };\n\n      // Create offer and set local description\n      const offer = await peerConnection.current.createOffer();\n      await peerConnection.current.setLocalDescription(offer);\n\n      // Send offer to remote peer via signaling\n      if (socket.current.readyState === WebSocket.OPEN) {\n        socket.current.send(JSON.stringify({\n          type: \"offer\",\n          offer,\n          roomId\n        }));\n      } else {\n        console.log(\"WebSocket not open, cannot send offer\");\n      }\n      console.log(\"Video call started\");\n    } catch (error) {\n      console.error(\"Error starting video call:\", error);\n    }\n  };\n  const stopVideoCall = () => {\n    if (peerConnection.current) {\n      peerConnection.current.close();\n    }\n    if (mediaStream.current) {\n      mediaStream.current.getTracks().forEach(track => track.stop());\n    }\n    navigate(\"/VideoCallPage\");\n  };\n  const handleReceivedMessage = async message => {\n    switch (message.type) {\n      case \"offer\":\n        // Set the remote offer description\n        await peerConnection.current.setRemoteDescription(new RTCSessionDescription(message.offer));\n\n        // Create an answer and send it back\n        const answer = await peerConnection.current.createAnswer();\n        await peerConnection.current.setLocalDescription(answer);\n        if (socket.current.readyState === WebSocket.OPEN) {\n          socket.current.send(JSON.stringify({\n            type: \"answer\",\n            answer,\n            roomId: message.roomId\n          }));\n        }\n        break;\n      case \"answer\":\n        // Set the remote answer description\n        await peerConnection.current.setRemoteDescription(new RTCSessionDescription(message.answer));\n        break;\n      case \"candidate\":\n        // Add received ICE candidate\n        if (message.candidate) {\n          await peerConnection.current.addIceCandidate(new RTCIceCandidate(message.candidate));\n        }\n        break;\n      default:\n        break;\n    }\n  };\n  const toggleMute = () => {\n    setIsMuted(prev => !prev);\n    mediaStream.current.getAudioTracks().forEach(track => {\n      track.enabled = !track.enabled;\n    });\n  };\n  const toggleVideo = () => {\n    setIsVideoOn(prev => !prev);\n    mediaStream.current.getVideoTracks().forEach(track => {\n      track.enabled = !track.enabled;\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      backgroundColor: \"#f5f5f5\",\n      height: \"100vh\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(VideoContainer, {\n      children: [/*#__PURE__*/_jsxDEV(LocalVideoWrapper, {\n        children: /*#__PURE__*/_jsxDEV(Video, {\n          ref: localVideoRef,\n          autoPlay: true,\n          muted: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          width: \"100%\",\n          height: \"100%\",\n          maxWidth: \"1000px\",\n          backgroundColor: \"black\",\n          borderRadius: \"8px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Video, {\n          ref: remoteVideoRef,\n          autoPlay: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ControlPanel, {\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: toggleMute,\n        sx: {\n          backgroundColor: isMuted ? \"#b0bec5\" : \"#2196f3\",\n          borderRadius: \"50%\",\n          padding: \"10px\"\n        },\n        children: isMuted ? /*#__PURE__*/_jsxDEV(FaMicrophoneAltSlash, {\n          size: 20,\n          color: \"white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 22\n        }, this) : /*#__PURE__*/_jsxDEV(FaMicrophone, {\n          size: 20,\n          color: \"white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 73\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: toggleVideo,\n        sx: {\n          backgroundColor: isVideoOn ? \"#4caf50\" : \"#f44336\",\n          borderRadius: \"50%\",\n          padding: \"10px\"\n        },\n        children: isVideoOn ? /*#__PURE__*/_jsxDEV(FaVideo, {\n          size: 20,\n          color: \"white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(FaVideoSlash, {\n          size: 20,\n          color: \"white\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 62\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(EndCallButton, {\n        onClick: stopVideoCall,\n        children: /*#__PURE__*/_jsxDEV(FaPhoneAlt, {\n          size: 25\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 5\n  }, this);\n};\n_s(VideoCallPage, \"mgKholrp+ogzqzyt1McqYI+GDZk=\", false, function () {\n  return [useNavigate];\n});\n_c6 = VideoCallPage;\nexport default VideoCallPage;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"VideoContainer\");\n$RefreshReg$(_c2, \"LocalVideoWrapper\");\n$RefreshReg$(_c3, \"Video\");\n$RefreshReg$(_c4, \"ControlPanel\");\n$RefreshReg$(_c5, \"EndCallButton\");\n$RefreshReg$(_c6, \"VideoCallPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useNavigate","IconButton","Fab","Box","FaMicrophone","FaMicrophoneAltSlash","FaVideo","FaVideoSlash","FaPhoneAlt","styled","jsxDEV","_jsxDEV","VideoContainer","display","justifyContent","gap","position","_c","LocalVideoWrapper","top","left","width","height","backgroundColor","borderRadius","overflow","_c2","Video","objectFit","_c3","ControlPanel","bottom","transform","alignItems","zIndex","_c4","EndCallButton","color","padding","fontSize","_c5","VideoCallPage","roomId","_s","isMuted","setIsMuted","isVideoOn","setIsVideoOn","localVideoRef","remoteVideoRef","peerConnection","mediaStream","socket","navigate","current","WebSocket","onopen","console","log","startVideoCall","onmessage","message","handleReceivedMessage","JSON","parse","data","close","navigator","mediaDevices","getUserMedia","video","audio","srcObject","RTCPeerConnection","iceServers","urls","getTracks","forEach","track","addTrack","onicecandidate","event","candidate","readyState","OPEN","send","stringify","type","ontrack","streams","offer","createOffer","setLocalDescription","error","stopVideoCall","stop","setRemoteDescription","RTCSessionDescription","answer","createAnswer","addIceCandidate","RTCIceCandidate","toggleMute","prev","getAudioTracks","enabled","toggleVideo","getVideoTracks","sx","flexDirection","children","ref","autoPlay","muted","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","onClick","size","_c6","$RefreshReg$"],"sources":["C:/Users/Krishang Darji/OneDrive/Desktop/Mudravani1/src/components/VideoCallPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { IconButton, Fab, Box } from \"@mui/material\";\r\nimport { FaMicrophone, FaMicrophoneAltSlash, FaVideo, FaVideoSlash, FaPhoneAlt } from \"react-icons/fa\"; // Icons for controls\r\nimport styled from \"@emotion/styled\"; // Styled components for custom styles\r\n\r\n// Styled components\r\nconst VideoContainer = styled(Box)({\r\n  display: \"flex\",\r\n  justifyContent: \"center\",\r\n  gap: \"20px\",\r\n  position: \"relative\",\r\n});\r\n\r\nconst LocalVideoWrapper = styled(Box)({\r\n  position: \"absolute\",\r\n  top: \"20px\",\r\n  left: \"20px\",\r\n  width: \"120px\",\r\n  height: \"80px\",\r\n  backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n  borderRadius: \"8px\",\r\n  overflow: \"hidden\",\r\n});\r\n\r\nconst Video = styled(\"video\")({\r\n  width: \"100%\",\r\n  height: \"100%\",\r\n  objectFit: \"cover\",\r\n  borderRadius: \"8px\",\r\n});\r\n\r\nconst ControlPanel = styled(Box)({\r\n  position: \"fixed\",\r\n  bottom: \"20px\",\r\n  left: \"50%\",\r\n  transform: \"translateX(-50%)\",\r\n  display: \"flex\",\r\n  alignItems: \"center\",\r\n  gap: \"25px\",\r\n  zIndex: \"10\",\r\n});\r\n\r\nconst EndCallButton = styled(Fab)({\r\n  backgroundColor: \"#f44336\",\r\n  color: \"#fff\",\r\n  padding: \"15px\",\r\n  fontSize: \"20px\",\r\n  \"&:hover\": {\r\n    backgroundColor: \"#d32f2f\",\r\n  },\r\n});\r\n\r\nconst VideoCallPage = ({ roomId }) => {\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [isVideoOn, setIsVideoOn] = useState(true);\r\n  const localVideoRef = useRef(null);\r\n  const remoteVideoRef = useRef(null);\r\n  const peerConnection = useRef(null);\r\n  const mediaStream = useRef(null);\r\n  const socket = useRef(null); // WebSocket reference\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    socket.current = new WebSocket(\"wss://your-signaling-server.com\"); // Replace with your WebSocket server URL\r\n\r\n    // Wait for WebSocket connection to open before proceeding\r\n    socket.current.onopen = () => {\r\n      console.log(\"WebSocket connection established\");\r\n      startVideoCall(roomId);\r\n    };\r\n\r\n    socket.current.onmessage = (message) => {\r\n      handleReceivedMessage(JSON.parse(message.data));\r\n    };\r\n\r\n    return () => {\r\n      socket.current.close();\r\n    };\r\n  }, [roomId]);\r\n\r\n  const startVideoCall = async (roomId) => {\r\n    try {\r\n      // Get media stream\r\n      mediaStream.current = await navigator.mediaDevices.getUserMedia({\r\n        video: true,\r\n        audio: true,\r\n      });\r\n\r\n      // Set local video stream\r\n      if (localVideoRef.current) {\r\n        localVideoRef.current.srcObject = mediaStream.current;\r\n      }\r\n\r\n      // Create PeerConnection\r\n      peerConnection.current = new RTCPeerConnection({\r\n        iceServers: [{ urls: \"stun:stun.l.google.com:19302\" }],\r\n      });\r\n\r\n      // Add local media tracks to peer connection\r\n      mediaStream.current.getTracks().forEach((track) => {\r\n        peerConnection.current.addTrack(track, mediaStream.current);\r\n      });\r\n\r\n      // Handle ICE candidate events\r\n      peerConnection.current.onicecandidate = (event) => {\r\n        if (event.candidate) {\r\n          // Ensure WebSocket is open before sending the candidate\r\n          if (socket.current.readyState === WebSocket.OPEN) {\r\n            socket.current.send(\r\n              JSON.stringify({\r\n                type: \"candidate\",\r\n                candidate: event.candidate,\r\n                roomId,\r\n              })\r\n            );\r\n          } else {\r\n            console.log(\"WebSocket not open, cannot send candidate\");\r\n          }\r\n        }\r\n      };\r\n\r\n      // Set up the remote video stream when a track is received\r\n      peerConnection.current.ontrack = (event) => {\r\n        if (remoteVideoRef.current) {\r\n          remoteVideoRef.current.srcObject = event.streams[0];\r\n        }\r\n      };\r\n\r\n      // Create offer and set local description\r\n      const offer = await peerConnection.current.createOffer();\r\n      await peerConnection.current.setLocalDescription(offer);\r\n\r\n      // Send offer to remote peer via signaling\r\n      if (socket.current.readyState === WebSocket.OPEN) {\r\n        socket.current.send(\r\n          JSON.stringify({\r\n            type: \"offer\",\r\n            offer,\r\n            roomId,\r\n          })\r\n        );\r\n      } else {\r\n        console.log(\"WebSocket not open, cannot send offer\");\r\n      }\r\n\r\n      console.log(\"Video call started\");\r\n    } catch (error) {\r\n      console.error(\"Error starting video call:\", error);\r\n    }\r\n  };\r\n\r\n  const stopVideoCall = () => {\r\n    if (peerConnection.current) {\r\n      peerConnection.current.close();\r\n    }\r\n    if (mediaStream.current) {\r\n      mediaStream.current.getTracks().forEach((track) => track.stop());\r\n    }\r\n    navigate(\"/VideoCallPage\");\r\n  };\r\n\r\n  const handleReceivedMessage = async (message) => {\r\n    switch (message.type) {\r\n      case \"offer\":\r\n        // Set the remote offer description\r\n        await peerConnection.current.setRemoteDescription(\r\n          new RTCSessionDescription(message.offer)\r\n        );\r\n\r\n        // Create an answer and send it back\r\n        const answer = await peerConnection.current.createAnswer();\r\n        await peerConnection.current.setLocalDescription(answer);\r\n        if (socket.current.readyState === WebSocket.OPEN) {\r\n          socket.current.send(\r\n            JSON.stringify({\r\n              type: \"answer\",\r\n              answer,\r\n              roomId: message.roomId,\r\n            })\r\n          );\r\n        }\r\n        break;\r\n\r\n      case \"answer\":\r\n        // Set the remote answer description\r\n        await peerConnection.current.setRemoteDescription(\r\n          new RTCSessionDescription(message.answer)\r\n        );\r\n        break;\r\n\r\n      case \"candidate\":\r\n        // Add received ICE candidate\r\n        if (message.candidate) {\r\n          await peerConnection.current.addIceCandidate(\r\n            new RTCIceCandidate(message.candidate)\r\n          );\r\n        }\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const toggleMute = () => {\r\n    setIsMuted((prev) => !prev);\r\n    mediaStream.current.getAudioTracks().forEach((track) => {\r\n      track.enabled = !track.enabled;\r\n    });\r\n  };\r\n\r\n  const toggleVideo = () => {\r\n    setIsVideoOn((prev) => !prev);\r\n    mediaStream.current.getVideoTracks().forEach((track) => {\r\n      track.enabled = !track.enabled;\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", backgroundColor: \"#f5f5f5\", height: \"100vh\" }}>\r\n      <VideoContainer>\r\n        {/* Local Video */}\r\n        <LocalVideoWrapper>\r\n          <Video ref={localVideoRef} autoPlay muted />\r\n        </LocalVideoWrapper>\r\n\r\n        {/* Remote Video */}\r\n        <Box sx={{ width: \"100%\", height: \"100%\", maxWidth: \"1000px\", backgroundColor: \"black\", borderRadius: \"8px\" }}>\r\n          <Video ref={remoteVideoRef} autoPlay />\r\n        </Box>\r\n      </VideoContainer>\r\n\r\n      <ControlPanel>\r\n        {/* Mute/Unmute Button */}\r\n        <IconButton onClick={toggleMute} sx={{ backgroundColor: isMuted ? \"#b0bec5\" : \"#2196f3\", borderRadius: \"50%\", padding: \"10px\" }}>\r\n          {isMuted ? <FaMicrophoneAltSlash size={20} color=\"white\" /> : <FaMicrophone size={20} color=\"white\" />}\r\n        </IconButton>\r\n\r\n        {/* Video On/Off Button */}\r\n        <IconButton onClick={toggleVideo} sx={{ backgroundColor: isVideoOn ? \"#4caf50\" : \"#f44336\", borderRadius: \"50%\", padding: \"10px\" }}>\r\n          {isVideoOn ? <FaVideo size={20} color=\"white\" /> : <FaVideoSlash size={20} color=\"white\" />}\r\n        </IconButton>\r\n\r\n        {/* End Call Button */}\r\n        <EndCallButton onClick={stopVideoCall}>\r\n          <FaPhoneAlt size={25} />\r\n        </EndCallButton>\r\n      </ControlPanel>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default VideoCallPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}